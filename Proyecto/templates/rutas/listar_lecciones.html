{% extends "dashboard/dashboard_estudiante.html" %}

{% block title %}Mis lecciones{% endblock %}

{% block page_content %}
<div class="min-h-screen bg-gray-50 py-8">
  <div class="max-w-4xl mx-auto">
    <div class="flex items-center justify-between mb-6">
      <h1 class="text-3xl font-bold">Mi ruta de aprendizaje</h1>
      <div class="flex gap-3 w-full max-w-md justify-end">
        <!-- Atrás (azul, estilo Guardar) -->
        <a href="{% url 'usuarios:dashboard_estudiante' %}"
           class="flex-1 text-center py-2 rounded-lg bg-blue-600 text-white">
          Atrás
        </a>
        <!-- Modificar ruta (blanco, estilo Atrás en modificar_rutas) -->
        <a href="{% url 'usuarios:ver_rutas' %}"
           class="flex-1 text-center py-2 rounded-lg border text-gray-700 bg-white">
          Modificar ruta
        </a>
      </div>
    </div>

    {% if lecciones %}
      <div class="space-y-4">
        {% for leccion in lecciones %}
          <div class="card bg-white shadow">
            <div class="card-body flex justify-between items-center">
              <div>
                <h2 class="font-semibold text-lg">
                  Lección {{ leccion.numero }}
                </h2>
                <p class="text-sm text-gray-600">
                  Contenido: {{ leccion.contenido.titulo }}
                </p>
                <p class="text-xs text-gray-500">
                  Preguntas: {{ leccion.preguntas.count }}
                </p>
              </div>
            </div>
          </div>
        {% endfor %}
      </div>
    {% else %}
      <p class="text-gray-600">
        Aún no tienes lecciones generadas. Completa la prueba diagnóstica o configura tu ruta.
      </p>
    {% endif %}
  </div>
</div>
{% endblock %}